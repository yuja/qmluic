---
source: tests/test_uigen_examples.rs
expression: ui_support_h
---
#pragma once
#include "ui_mainwindow.h"

namespace UiSupport {
class MainWindow
{
public:
    MainWindow(QMainWindow *root, Ui::MainWindow *ui): root_(root), ui_(ui) {}

    void setup()
    {
        this->setup_formStack_currentIndex();
        this->setup_mainWindow_windowTitle();
        this->update_formStack_currentIndex();
        this->update_mainWindow_windowTitle();
    }

private:
    void setup_formStack_currentIndex()
    {
        auto *const fileNameEdit = this->ui_->fileNameEdit;

        QObject::connect(fileNameEdit, &QComboBox::currentIndexChanged, root_, [this]() { this->update_formStack_currentIndex(); });
    }

    void update_formStack_currentIndex()
    {
        this->ui_->formStack->setCurrentIndex(this->eval_formStack_currentIndex());
    }

    int eval_formStack_currentIndex() const
    {
        int a0;
    b0:
        a0 = this->ui_->fileNameEdit->currentIndex();
        return a0;
    }

    void setup_mainWindow_windowTitle()
    {
        auto *const fileNameEdit = this->ui_->fileNameEdit;

        QObject::connect(fileNameEdit, &QComboBox::currentIndexChanged, root_, [this]() { this->update_mainWindow_windowTitle(); });
        QObject::connect(fileNameEdit, &QComboBox::currentTextChanged, root_, [this]() { this->update_mainWindow_windowTitle(); });
    }

    void update_mainWindow_windowTitle()
    {
        this->root_->setWindowTitle(this->eval_mainWindow_windowTitle());
    }

    QString eval_mainWindow_windowTitle() const
    {
        int a0;
        bool a1;
        QString a2;
        QString a3;
        QString a4;
        QString a5;
        QString a6;
    b0:
        a0 = this->ui_->fileNameEdit->currentIndex();
        a1 = a0 == 0;
        if (a1)
            goto b1;
        else
            goto b2;
    b1:
        a2 = QCoreApplication::translate("MainWindow", "*** Select Source ***");
        a4 = a2;
        goto b3;
    b2:
        a3 = this->ui_->fileNameEdit->currentText();
        a4 = a3;
        goto b3;
    b3:
        a5 = QCoreApplication::translate("MainWindow", "Qmluic Example: %1");
        a6 = a5.arg(a4);
        return a6;
    }

    QMainWindow *const root_;
    Ui::MainWindow *const ui_;

};
} // namespace UiSupport

