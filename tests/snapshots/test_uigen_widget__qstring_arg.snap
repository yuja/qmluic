---
source: tests/test_uigen_widget.rs
expression: ui_support_h
---
#pragma once
#include "ui_mytype.h"

namespace UiSupport {
class MyType
{
public:
    MyType(QWidget *root, Ui::MyType *ui): root_(root), ui_(ui) {}

    void setup()
    {
        this->setup_label_text();
        this->setup_label1_text();
        this->update_label_text();
        this->update_label1_text();
    }

private:
    void setup_label_text()
    {
        auto *const combo = this->ui_->combo;

        QObject::connect(combo, &QComboBox::currentIndexChanged, root_, [this]() { this->update_label_text(); });
    }

    void update_label_text()
    {
        this->ui_->label->setText(this->eval_label_text());
    }

    QString eval_label_text() const
    {
        int a0;
        QString a1;
    b0:
        a0 = this->ui_->combo->currentIndex();
        a1 = QStringLiteral("dynamic %1").arg(a0);
        return a1;
    }

    void setup_label1_text()
    {

    }

    void update_label1_text()
    {
        this->ui_->label1->setText(this->eval_label1_text());
    }

    QString eval_label1_text() const
    {
        QString a0;
    b0:
        a0 = QStringLiteral("static %1").arg(1);
        return a0;
    }

    QWidget *const root_;
    Ui::MyType *const ui_;

};
} // namespace UiSupport

